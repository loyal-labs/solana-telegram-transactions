---
title: "Using SDK"
description: "Usage guide for Loyal's Telegram Transactions SDK"
---

## Usage

### Browser with Wallet Adapter

For React applications using `@solana/wallet-adapter-react`:

```typescript
import { useConnection, useWallet } from "@solana/wallet-adapter-react";
import { LoyalTransactionsClient, solToLamports } from "@loyal-labs/transactions";

function DepositButton() {
  const { connection } = useConnection();
  const wallet = useWallet();

  const handleDeposit = async () => {
    if (!wallet.publicKey) return;

    const client = LoyalTransactionsClient.fromWallet(connection, wallet);

    const result = await client.deposit({
      username: "bob",
      amountLamports: solToLamports(0.5),
    });

    console.log("Success!", result.signature);
  };

  return <button onClick={handleDeposit}>Deposit 0.5 SOL</button>;
}
```

### Server-Side with Keypair

For backend scripts, bots, or CLI tools:

```typescript
import { Connection, Keypair } from "@solana/web3.js";
import { LoyalTransactionsClient, solToLamports } from "@loyal-labs/transactions";

const connection = new Connection("https://api.devnet.solana.com");
const keypair = Keypair.fromSecretKey(mySecretKey);

const client = LoyalTransactionsClient.fromKeypair(connection, keypair);

const result = await client.deposit({
  username: "charlie",
  amountLamports: solToLamports(1.0),
});
```

### Existing Anchor Projects

If you're already using Anchor with a configured provider:

```typescript
import { AnchorProvider } from "@coral-xyz/anchor";
import { LoyalTransactionsClient } from "@loyal-labs/transactions";

const provider = AnchorProvider.env();
const client = LoyalTransactionsClient.fromProvider(provider);

const result = await client.deposit({
  username: "dave",
  amountLamports: 100_000_000,
});
```

### Universal Factory Method

The `from()` method auto-detects the signer type:

```typescript
// Works with any supported signer
const client = LoyalTransactionsClient.from(connection, signer);
```

## Advanced Usage

### Accessing the Anchor Program

For advanced users who need direct access to the underlying Anchor program:

```typescript
const program = client.getProgram();

// Use program directly for custom operations
const accounts = await program.account.deposit.all();
```
